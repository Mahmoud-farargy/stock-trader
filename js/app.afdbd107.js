(function(t){function e(e){for(var s,r,o=e[0],c=e[1],l=e[2],d=0,p=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&p.push(i[r][0]),i[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(p.length)p.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,o=1;o<a.length;o++){var c=a[o];0!==i[c]&&(s=!1)}s&&(n.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},i={app:0},n=[];function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0095":function(t,e,a){},"034f":function(t,e,a){"use strict";var s=a("85ec"),i=a.n(s);i.a},1:function(t,e){},"361d":function(t,e,a){"use strict";var s=a("0095"),i=a.n(s);i.a},"36be":function(t,e,a){"use strict";var s=a("7c7b"),i=a.n(s);i.a},"4bed":function(t,e,a){"use strict";var s=a("9e03"),i=a.n(s);i.a},"56d7":function(t,e,a){"use strict";a.r(e);a("4de4"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("Header"),a("transition",{attrs:{name:"slideUp",mode:"out-in"}},[a("router-view")],1)],1)},n=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"mt-4"},[a("nav",{staticClass:"navbar navbar-expand-md navbar-light bg-light"},[a("router-link",{staticClass:"navbar-brand",attrs:{to:"/",exact:"",tag:"a","active-class":"active"}},[t._v("Stock Trader")]),t._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"mainNav"}},[a("ul",{staticClass:"navbar-nav mr-auto"},[a("router-link",{staticClass:"nav-item",attrs:{to:"/portfolio",exact:"",tag:"li","active-class":"active"}},[a("a",{staticClass:"nav-link "},[t._v("Portfolio")])]),a("router-link",{staticClass:"nav-item",attrs:{to:"/stocks",exact:"",tag:"li","active-class":"active"}},[a("a",{staticClass:"nav-link "},[t._v("Stocks")])])],1),a("ul",{staticClass:"navbar-nav ml-auto"},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",on:{click:t.endDay}},[a("i",{staticClass:"fas fa-undo text-dark mr-1"}),t._v("End Day")])]),a("li",{staticClass:"nav-item dropdown"},[t._m(1),a("div",{staticClass:"dropdown-menu"},[a("a",{staticClass:"dropdown-item",on:{click:t.save}},[t._v("Save Data")]),a("a",{staticClass:"dropdown-item",on:{click:t.load}},[t._v("Load Data")])])]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",staticStyle:{cursor:"auto"}},[a("strong",{staticClass:"text-dark"},[a("i",{staticClass:"fas fa-dollar-sign mr-1"}),t._v("Funds: "+t._s(t._f("currencyFilter")(t.balanceOutput)))])])])]),t.dataSaved?a("div",{staticClass:"fixed-top m-0 alert alert-success text-center py-2"},[a("h6",[t._v("Data saved!")])]):t._e()])],1)])},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler",attrs:{"data-toggle":"collapse","data-target":"#mainNav"}},[a("div",[a("div"),a("div"),a("div")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"dropdown-toggle btn",attrs:{"data-toggle":"dropdown",type:"button"}},[a("i",{staticClass:"fas fa-save mr-1"}),t._v("Save & load")])}],c={data:function(){return{dataSaved:!1}},computed:{balanceOutput:function(){return this.$store.state.balance}},methods:{endDay:function(){return console.log(this.stockPrices),this.$store.dispatch("refreshPrices")},save:function(){var t=this,e={balance:this.$store.getters.balance,stockPrices:this.$store.getters.stockPrices,stocksBought:this.$store.getters.portfolioItems};this.$http.put("https://mahmoudvue.firebaseio.com/stocks.json",e).then((function(e){console.log(e),t.dataSaved=!0;var a=setTimeout((function(){t.dataSaved=!1,clearTimeout(a)}),3e3)})).catch((function(e){t.dataSaved=!1,alert("An error occurred while saving data. Please try again later! ["+e.statusText+"]"),console.log(e)}))},load:function(){var t=this;this.$http.get("https://mahmoudvue.firebaseio.com/stocks.json").then((function(e){(e&&null!==e.body||void 0!==e.body)&&(t.$store.dispatch("loadStocksFromServer",{receivedBalance:e.body.balance,receivedStockPrices:e.body.stockPrices,stocksBought:e.body.stocksBought}),console.log(e))})).catch((function(t){alert("An error occurred while loading: ["+t.statusText+"]"),console.log(t)})),console.log("load")}}},l=c,u=(a("36be"),a("2877")),d=Object(u["a"])(l,r,o,!1,null,"6c43957d",null),p=d.exports,f={data:function(){return{greeting:"hello!"}},components:{Header:p}},v=f,m=(a("034f"),Object(u["a"])(v,i,n,!1,null,null,null)),h=m.exports,b=(a("b0c0"),a("2f62")),y=1e4,g={bmw:{price:150,quantity:0,type:"BMW",id:"23rwqs"},google:{price:350,quantity:0,type:"Google",id:"r4ehy5"},apple:{price:250,quantity:0,type:"Apple",id:"3rwes3"},twitter:{price:20,quantity:0,type:"Twitter",id:"dsc56j3"},mercedes:{price:180,quantity:0,type:"Mercedes",id:"f937e7"},amazon:{price:280,quantity:0,type:"Amazon",id:"8t39e9"}};s["a"].use(b["a"]);var k=new b["a"].Store({state:{balance:y,stockPrices:g,portfolioItems:[]},getters:{balance:function(t){return t.balance},stockPrices:function(t){return t.stockPrices},portfolioItems:function(t){return t.portfolioItems}},mutations:{updateBalance:function(t,e){return t.balance=t.balance-=e},refreshPrices:function(t){for(var e in t.stockPrices)t.stockPrices[e].price=Math.round(t.stockPrices[e].price*(1+Math.random()-.5));for(var a in t.portfolioItems){var s=t.portfolioItems[a].type.toLowerCase();t.portfolioItems[a].price=t.stockPrices[s].price,console.log(s)}},updateQuantity:function(t,e){return console.log(e),t.stockPrices[e.name].quantity=e.quantity},updatePortfolioItems:function(t,e){var a=t.stockPrices[e];t.portfolioItems.push(a)},updateBalanceAfterSelling:function(t,e){return t.balance+=e},updateQuantityAfterSelling:function(t,e){for(var a in console.log(t.stockPrices),t.stockPrices[e.type].quantity-=e.quantity,t.portfolioItems){var s=t.portfolioItems[a].type.toLowerCase();t.portfolioItems[a].quantity=t.stockPrices[s].quantity,console.log(s)}},loadStocksFromServer:function(t,e){console.log(e.receivedBalance,e.receivedStockPrices),t.balance=e.receivedBalance?e.receivedBalance:0,t.stockPrices=e.receivedStockPrices?e.receivedStockPrices:{},t.portfolioItems=e.stocksBought?e.stocksBought:[]}},actions:{updateBalance:function(t,e){var a=t.commit;a("updateBalance",e)},refreshPrices:function(t){var e=t.commit;e("refreshPrices")},updateQuantity:function(t,e){var a=t.commit;a("updateQuantity",e)},updatePortfolioItems:function(t,e){var a=t.commit;a("updatePortfolioItems",e)},updateBalanceAfterSelling:function(t,e){var a=t.commit;a("updateBalanceAfterSelling",e)},updateQuantityAfterSelling:function(t,e){var a=t.commit;a("updateQuantityAfterSelling",e)},loadStocksFromServer:function(t,e){var a=t.commit;a("loadStocksFromServer",e)}}}),_=a("8c4f"),C=a("28dd"),P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"jumbotron mt-4"},[a("div",[a("h4",{staticClass:"display-4"},[t._v("Trade or view your portfolio")]),a("p",{staticClass:"lead"},[t._v("You may save or load your data")]),a("p",{staticClass:"lead"},[t._v('Click on "End Day" to begin a new day!')]),a("hr",{staticClass:"mt-2"}),a("strong",[t._v("Your Funds: "+t._s(t._f("currencyFilter")(t.balanceOutput)))]),a("p",{staticClass:"mt-2"},[t._v("Stocks Bought: "+t._s(t.portfolioItems.length))])])])},S=[],w={computed:{balanceOutput:function(){return this.$store.state.balance},portfolioItems:function(){return this.$store.state.portfolioItems}}},x=w,I=Object(u["a"])(x,P,S,!1,null,null,null),$=I.exports,B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w-100"},[t.stock.length<=0?a("h2",{staticClass:"text-primary text-center mt-5"},[t._v("Bought stocks will be shown here..")]):t._e(),t._v(" "),t.stock.length>0?a("small",{staticClass:"text-secondary"},[t._v(" You bought "),a("span",{domProps:{innerHTML:t._s(t.stock.length)}}),t._v(" "+t._s(1===t.stock.length?"stock":"stocks"))]):t._e(),a("ul",{staticClass:"row w-100"},t._l(t.stock,(function(e,s){return a("li",{key:e.id+s,staticClass:"col-sm-6 col-md-5 my-3"},[a("PortfolioItems",{attrs:{price:e.price,type:e.type,quantity:Number(e.quantity),entireStock:t.stock,index:s}})],1)})),0)])},q=[],Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header bg-info text-white"},[a("strong",[t._v(t._s(t.type))]),t._v(" "),a("span",[t._v("(Price: "+t._s(t.price)+" | Quantity: "+t._s(t.quantity)+")")])]),a("div",{staticClass:"card-body"},[a("form",{staticClass:"form",on:{submit:t.subForm}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.insertedValue,expression:"insertedValue"}],staticClass:"form-control",class:{error:!t.isItSellable},attrs:{type:"number",min:"0",placeholder:"Quantity"},domProps:{value:t.insertedValue},on:{input:[function(e){e.target.composing||(t.insertedValue=e.target.value)},t.checkCase]}}),a("button",{staticClass:"btn btn-info",attrs:{disabled:t.insertedValue.length<=0&&!Number.isInteger(t.insertedValue)||!t.isItSellable},on:{click:t.sell}},[t._v("Sell")])]),t.isItSellable?t._e():a("div",{staticClass:"alert alert-danger p-2 mt-4"},[a("p",[t._v("Not enough quantities to sell.")])])])])])},O=[],j=(a("a434"),a("a9e3"),{data:function(){return{insertedValue:"",isItSellable:!0}},props:{price:[Number],quantity:[Number],type:[String],entireStock:[Array],index:[Number]},methods:{subForm:function(t){t.preventDefault()},checkCase:function(){this.quantity<=0&&this.entireStock.splice(this.index,1),this.insertedValue>this.quantity?this.isItSellable=!1:this.isItSellable=!0},sell:function(){if(console.log(this.index),this.quantity<=0&&this.entireStock.splice(this.index,1),this.quantity>0&&this.insertedValue<=this.quantity){var t=this.insertedValue*this.price;this.$store.dispatch("updateBalanceAfterSelling",t),this.$store.dispatch("updateQuantityAfterSelling",{type:this.type.toLowerCase(),quantity:this.insertedValue}),this.insertedValue="",this.isItSellable=!0}}},created:function(){this.quantity<=0&&this.entireStock.splice(this.index,1)}}),N=j,A=(a("361d"),Object(u["a"])(N,Q,O,!1,null,"66957ed4",null)),F=A.exports,V={computed:{stock:function(){return this.$store.state.portfolioItems}},components:{PortfolioItems:F},created:function(){console.log(this.stock)}},E=V,T=(a("70e0"),Object(u["a"])(E,B,q,!1,null,"1925b836",null)),D=T.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w-100"},[a("div",{staticClass:"w-100 m-auto",attrs:{id:"stocksContent"}},[a("ul",{staticClass:"row my-3 w-100"},t._l(t.stockPrices,(function(t,e){return a("li",{key:t.id+e,staticClass:"col-sm-6 col-md-5 m-3"},[a("Stock",{attrs:{stockName:t.type,price:t.price}})],1)})),0)])])},L=[],H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card"},[a("div",{staticClass:"card-header bg-success text-white"},[a("strong",{staticClass:"stock-name card-title"},[t._v(t._s(t.stockName))]),t._v(" "),a("span",[t._v("(Price: $"+t._s(t.price)+")")])]),a("div",{staticClass:"card-body"},[a("form",{staticClass:"spaceBetween",on:{submit:t.subForm}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.insertedQuantity,expression:"insertedQuantity"}],staticClass:"form-control",class:{error:!t.isPurchasable},attrs:{type:"number",min:"0",placeholder:"Quantity"},domProps:{value:t.insertedQuantity},on:{input:[function(e){e.target.composing||(t.insertedQuantity=e.target.value)},t.purchaseCheck]}}),t._v(" "),a("button",{staticClass:"btn btn-success",attrs:{disabled:t.insertedQuantity<=0&&!Number.isInteger(t.insertedQuantity)||!t.isPurchasable},on:{click:t.buyStock}},[t._v("Buy")])]),t.isPurchasable?t._e():a("div",{staticClass:"alert alert-danger p-2 mt-4"},[a("p",[t._v(" Unable to purchase due to insufficient funds.")])])])])},Y=[],z={data:function(){return{insertedQuantity:"",isPurchasable:!0}},computed:{mainBalance:function(){return this.$store.state.balance}},props:{stockName:[String],price:[Number]},methods:{purchaseCheck:function(){console.log(this.isPurchasable,this.mainBalance-this.insertedQuantity*this.price>0),this.mainBalance-this.insertedQuantity*this.price>0?this.isPurchasable=!0:this.isPurchasable=!1},buyStock:function(){if(this.mainBalance>0&&this.isPurchasable){var t=this.insertedQuantity*this.price;this.$store.dispatch("updateBalance",t),this.$store.dispatch("updateQuantity",{name:this.stockName.toLowerCase(),quantity:this.insertedQuantity}),this.$store.dispatch("updatePortfolioItems",this.stockName.toLowerCase()),this.insertedQuantity="",console.log(this.mainBalance-this.insertedQuantity*this.price,t,this.$store.state.stockPrices)}},subForm:function(t){t.preventDefault()}}},J=z,U=(a("4bed"),Object(u["a"])(J,H,Y,!1,null,"18615753",null)),G=U.exports,W={computed:{stockPrices:function(){return this.$store.state.stockPrices}},components:{Stock:G}},K=W,R=(a("cd15"),Object(u["a"])(K,M,L,!1,null,"e1c901d8",null)),X=R.exports,Z=[{path:"",component:$},{path:"/portfolio",component:D},{path:"/stocks",component:X}];s["a"].use(_["a"]),s["a"].use(C["a"]),s["a"].filter("currencyFilter",(function(t){return"$"+t.toLocaleString()}));var tt=new _["a"]({routes:Z});new s["a"]({el:"#app",store:k,router:tt,render:function(t){return t(h)}})},"70e0":function(t,e,a){"use strict";var s=a("dec0"),i=a.n(s);i.a},"7c7b":function(t,e,a){},"85ec":function(t,e,a){},"9e03":function(t,e,a){},b2c1:function(t,e,a){},cd15:function(t,e,a){"use strict";var s=a("b2c1"),i=a.n(s);i.a},dec0:function(t,e,a){}});
//# sourceMappingURL=app.afdbd107.js.map